<%- include('./partials/header.ejs'); %>
<div class="d-flex justify-content-between">
  <div>
    <!-- <code>app.get('/protectedRoute') @protectedRoute.ejs</code> -->
  </div>
  <div>
  </div>
  <div>
    <% if (isAdmin) { %>
      <code>Admin page available:</code><input type="button" value="Admin Page" onclick="window.location.href='/admin'" /> 
    <% } %>
  </div>
</div>
<h1>Members Page</h1>
<button class="btn btn-outline-dark" value="Logout" onclick="window.location.href='/logout'">Logout</button>
<p>Welcome, <strong><%= username %></strong>!</p>
<div class="container text-center">
  <div class="row gx-3">
    <div class="col-sm border">
      <div><img src="/<%= imagea %>" alt="random welcome image" class="img-fluid" /></div>
    </div>
    <div class="col-sm border">
      <div><img src="/<%= imageb %>" alt="random welcome image" class="img-fluid" /></div>
    </div>
    <div class="col-sm border">
      <div><img src="/<%= imagec %>" alt="random welcome image" class="img-fluid" /></div>
    </div>
  </div>
</div>
<!-- Chat Rooms -->
<div class="container my-4">
  <div class="row gx-3">
    <div class="col-sm border">
      <div><h2>Chat Rooms</h2></div>
    </div>
  </div>
  <table class="table">
    <thead>
      <tr>
        <th>Group</th>
        <th>Last Message</th>
        <th>Unread Messages</th>
      </tr>
    </thead>
    <tbody>
      <% rooms.forEach(function(room){ %>
      <tr>
        <td><%- room.name %></td>
        <td><%- room.sent_datetime %></td>
        <td><%- mostRecentMessages %></td>
        
  
      </tr>
    <% }); %>
    </tbody>
    <tfoot>
      <tr class="align-left">
        <td>
          <!-- <button class="btn btn-outline-dark" value="newGroup" onclick="window.location.href='/createGroup'">New Group +</button> -->
          Number of Chat Rooms: <%= rooms.length %>
        </td>
      </tr>
    </tfoot>
  </table>
<!-- button to create new group -->
  <div class="text-left"><button class="btn btn-outline-dark text-left" value="newGroup" onclick="window.location.href='/createGroup'">New Group +</button></div>
</div>
<br />
<br />

<%- include('./partials/footer.ejs'); %>
